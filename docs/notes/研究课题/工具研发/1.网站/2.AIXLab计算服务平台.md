---
title: AIXLab计算服务平台
createTime: 2026/01/15 12:421:45
permalink: /tasks/tools/websites/AIXLab/
---

## AIXLab 网站系统设计

### 一、整体架构
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端 Vue 3    │◄──►│    后端API      │◄──►│     数据库      │
│   + Vite        │    │                 │    │    MySQL        │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                        │                        │
         │                        │                        │
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Nginx反向代理 │    │   分析服务集群   │    │   文件存储      │
│   + SSL证书     │    │  (Python/R)     │    │   (MinIO/S3)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 二、后端技术选型推荐

#### 核心框架：**FastAPI**
- **推荐理由**：
  1. 高性能，异步支持好，适合数据分析的IO密集型场景
  2. 自动生成API文档（Swagger/OpenAPI）
  3. 与Python数据分析生态完美集成
  4. 类型提示和验证（Pydantic）

#### 完整技术栈：
1. **Web框架**：FastAPI（主API服务）
2. **任务队列**：Celery + Redis（异步处理分析任务）
3. **认证授权**：JWT + OAuth2（FastAPI内置支持）
4. **ORM**：SQLAlchemy + Alembic（数据库迁移）
5. **R语言集成**：
   - 方案A：通过`rpy2`库在Python进程中调用R
   - 方案B：通过RESTful微服务（plumber包）独立部署R服务
6. **Python分析环境**：
   - Jupyter内核管理
   - 虚拟环境隔离
7. **文件存储**：
   - 小文件：数据库BLOB
   - 大文件：MinIO/S3对象存储
8. **缓存**：Redis（缓存分析结果）
9. **API网关**：可选Kong/Traefik（微服务治理）

### 三、微服务架构设计

```
┌─────────────────────────────────────────────────────────┐
│                     API Gateway (Nginx)                  │
└─────────┬──────────┬──────────┬──────────┬──────────────┘
          │          │          │          │
┌─────────▼─┐  ┌────▼────┐ ┌──▼──────┐ ┌──▼──────────┐
│ 主API服务  │  │ R分析服务 ││Py分析服务││ 文件管理服务 │
│ (FastAPI) │  │(plumber) ││(FastAPI)││ (FastAPI)   │
└───────────┘  └─────────┘ └─────────┘ └────────────┘
      │               │           │           │
      └───────┬───────┴───────────┴───────────┘
              │
      ┌───────▼───────┐    ┌──────────────┐
      │   消息队列     │    │   对象存储    │
      │  Redis/RabbitMQ│    │   MinIO/S3   │
      └───────────────┘    └──────────────┘
              │                    │
      ┌───────▼───────┐    ┌──────▼──────┐
      │   Celery      │    │    MySQL    │
      │   Workers     │    │  数据库      │
      └───────────────┘    └─────────────┘
```

### 四、数据库设计要点

#### 核心表结构：
1. **用户表** (users)
   - 用户ID、认证信息、个人设置

2. **数据集表** (datasets)
   - 区分个人/公共数据（visibility字段）
   - 元数据：名称、描述、大小、格式、列信息
   - 存储路径（对象存储中的位置）

3. **分析任务表** (analysis_tasks)
   - 任务ID、状态、进度、输入参数、结果位置
   - 关联用户和数据集

4. **分析脚本表** (analysis_scripts)
   - R/Python脚本模板
   - 版本管理、参数定义

5. **结果表** (analysis_results)
   - 结构化结果（JSON格式）
   - 可视化文件路径（图表、报告）

### 五、API接口设计

#### 1. 数据管理模块
```
GET    /api/datasets           # 获取数据集列表
POST   /api/datasets/upload    # 上传数据集
GET    /api/datasets/{id}      # 获取数据集详情
DELETE /api/datasets/{id}      # 删除数据集
PUT    /api/datasets/{id}/visibility  # 设置公开/私有
```

#### 2. 分析模块
```
POST   /api/analysis/r         # 提交R分析任务
POST   /api/analysis/python    # 提交Python分析任务
GET    /api/analysis/tasks/{id} # 获取任务状态
GET    /api/analysis/results/{id} # 获取分析结果
```

#### 3. 公共数据模块
```
GET    /api/public/datasets    # 浏览公共数据集
POST   /api/public/datasets/{id}/copy # 复制到个人空间
```

### 六、安全设计

1. **认证授权**：
   - JWT token有效期管理
   - 角色权限控制（用户、管理员）
   - API访问限流

2. **数据安全**：
   - 个人数据隔离（多租户）
   - 文件上传病毒扫描
   - SQL注入防护（ORM自动处理）

3. **分析环境安全**：
   - 代码沙箱（Docker容器隔离）
   - 资源限制（CPU/内存/时间）
   - 禁止危险库和系统调用

### 七、部署方案

#### 开发环境：
- Docker Compose（包含所有服务）
- 热重载支持

#### 生产环境：
```
前端：Vite构建 → Nginx静态托管
后端：FastAPI (uvicorn) + Gunicorn多进程
R服务：plumber + RStudio Server
队列：Redis + Celery
存储：MinIO集群
数据库：MySQL主从复制
监控：Prometheus + Grafana
日志：ELK Stack
```

### 八、扩展性考虑

1. **插件系统**：
   - 支持自定义分析脚本上传
   - 分析模板市场

2. **协作功能**：
   - 数据集共享（指定用户）
   - 分析结果分享链接

3. **性能优化**：
   - 分析结果缓存
   - 增量数据加载
   - WebSocket实时进度通知

### 九、开发路线图建议

**第一阶段**（MVP）：
- 基础用户系统
- 数据上传/管理
- Python基础分析（pandas基础统计）

**第二阶段**：
- R语言分析集成
- 公共数据池
- 任务队列系统

**第三阶段**：
- 高级分析模板
- 协作功能
- 性能优化和扩展

此设计确保了系统的可扩展性、安全性和可维护性，同时兼顾了R和Python分析生态的集成需求。

## AIXLab 前端项目构建代码

### 项目初始化

#### 1. 创建项目
```bash
# 使用 Vite 创建 Vue 3 项目
npm create vite@latest aixlab-frontend -- --template vue

# 进入项目目录
cd aixlab-frontend

# 安装基础依赖(新版的vite已经提示自动安装依赖)
# npm install

# 安装必要的依赖包
npm install vue-router@4 pinia axios element-plus @element-plus/icons-vue
npm install @vueuse/core echarts vue-echarts
npm install monaco-editor @monaco-editor/loader
npm install highlight.js vue3-highlightjs
npm install nprogress
npm install js-cookie
npm install -D sass
```

### 项目结构

```bash
aixlab-frontend/
├── public/
├── src/
│   ├── api/                    # API 接口封装
│   │   ├── index.ts           # API 入口
│   │   ├── auth.ts            # 认证相关API
│   │   ├── dataset.ts         # 数据集API
│   │   ├── analysis.ts        # 分析任务API
│   │   └── publicData.ts      # 公共数据API
│   │
│   ├── assets/                # 静态资源
│   │   ├── styles/           # 全局样式
│   │   └── images/           # 图片资源
│   │
│   ├── components/            # 公共组件
│   │   ├── layout/           # 布局组件
│   │   ├── charts/           # 图表组件
│   │   ├── data/             # 数据相关组件
│   │   ├── analysis/         # 分析相关组件
│   │   └── common/           # 通用组件
│   │
│   ├── composables/           # 组合式函数
│   │   ├── useData.ts        # 数据相关逻辑
│   │   ├── useAnalysis.ts    # 分析相关逻辑
│   │   └── useAuth.ts        # 认证相关逻辑
│   │
│   ├── layouts/               # 布局文件
│   │   ├── DefaultLayout.vue
│   │   └── AuthLayout.vue
│   │
│   ├── router/               # 路由配置
│   │   └── index.ts
│   │
│   ├── stores/               # Pinia 状态管理
│   │   ├── index.ts
│   │   ├── auth.ts
│   │   ├── dataset.ts
│   │   └── analysis.ts
│   │
│   ├── utils/                # 工具函数
│   │   ├── request.ts       # 请求封装
│   │   ├── auth.ts          # 认证工具
│   │   └── format.ts        # 格式化工具
│   │
│   ├── views/                # 页面组件
│   │   ├── auth/            # 认证页面
│   │   ├── dashboard/       # 仪表盘
│   │   ├── data/            # 数据管理
│   │   ├── analysis/        # 数据分析
│   │   ├── public-data/     # 公共数据
│   │   └── settings/        # 个人设置
│   │
│   ├── App.vue
│   ├── main.ts
│   └── vite-env.d.ts
├── .env.development          # 开发环境变量
├── .env.production           # 生产环境变量
├── vite.config.ts           # Vite 配置
├── tsconfig.json            # TypeScript 配置
├── index.html
└── package.json
```

### 核心配置文件

#### 1. vite.config.ts
```typescript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      resolvers: [ElementPlusResolver()],
      imports: ['vue', 'vue-router', 'pinia'],
      dts: 'src/auto-imports.d.ts'
    }),
    Components({
      resolvers: [ElementPlusResolver()],
      dts: 'src/components.d.ts'
    })
  ],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@components': resolve(__dirname, 'src/components'),
      '@views': resolve(__dirname, 'src/views')
    }
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true
      },
      '/r-api': {
        target: 'http://localhost:8001',
        changeOrigin: true
      },
      '/py-api': {
        target: 'http://localhost:8002',
        changeOrigin: true
      }
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/assets/styles/variables.scss";`
      }
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'element-plus': ['element-plus'],
          'echarts': ['echarts', 'vue-echarts'],
          'monaco': ['monaco-editor', '@monaco-editor/loader']
        }
      }
    },
    chunkSizeWarningLimit: 1000
  }
})
```

#### 2. main.ts
```typescript
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import ElementPlus from 'element-plus'
import * as ElementPlusIconsVue from '@element-plus/icons-vue'
import 'element-plus/dist/index.css'
import 'element-plus/theme-chalk/dark/css-vars.css'
import '@/assets/styles/index.scss'

import App from './App.vue'
import router from './router'

const app = createApp(App)

// 注册所有图标
for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
  app.component(key, component)
}

app.use(createPinia())
app.use(router)
app.use(ElementPlus)

app.mount('#app')
```

#### 3. 路由配置 (router/index.ts)
```typescript
import { createRouter, createWebHistory } from 'vue-router'
import { useAuthStore } from '@/stores/auth'

const routes = [
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/auth/Login.vue'),
    meta: { requiresGuest: true }
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('@/views/auth/Register.vue'),
    meta: { requiresGuest: true }
  },
  {
    path: '/',
    component: () => import('@/layouts/DefaultLayout.vue'),
    meta: { requiresAuth: true },
    children: [
      {
        path: '',
        name: 'Dashboard',
        component: () => import('@/views/dashboard/Index.vue')
      },
      {
        path: 'datasets',
        name: 'Datasets',
        component: () => import('@/views/data/DatasetList.vue')
      },
      {
        path: 'datasets/upload',
        name: 'UploadDataset',
        component: () => import('@/views/data/UploadDataset.vue')
      },
      {
        path: 'datasets/:id',
        name: 'DatasetDetail',
        component: () => import('@/views/data/DatasetDetail.vue'),
        props: true
      },
      {
        path: 'analysis',
        name: 'Analysis',
        component: () => import('@/views/analysis/AnalysisCenter.vue')
      },
      {
        path: 'analysis/r',
        name: 'RAnalysis',
        component: () => import('@/views/analysis/RAnalysis.vue')
      },
      {
        path: 'analysis/python',
        name: 'PythonAnalysis',
        component: () => import('@/views/analysis/PythonAnalysis.vue')
      },
      {
        path: 'analysis/tasks',
        name: 'AnalysisTasks',
        component: () => import('@/views/analysis/TaskList.vue')
      },
      {
        path: 'analysis/tasks/:id',
        name: 'TaskDetail',
        component: () => import('@/views/analysis/TaskDetail.vue'),
        props: true
      },
      {
        path: 'public-data',
        name: 'PublicData',
        component: () => import('@/views/public-data/Index.vue')
      },
      {
        path: 'settings',
        name: 'Settings',
        component: () => import('@/views/settings/Index.vue')
      }
    ]
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

router.beforeEach((to, from, next) => {
  const authStore = useAuthStore()
  const isAuthenticated = authStore.isAuthenticated

  if (to.meta.requiresAuth && !isAuthenticated) {
    next('/login')
  } else if (to.meta.requiresGuest && isAuthenticated) {
    next('/')
  } else {
    next()
  }
})

export default router
```

#### 4. 状态管理 (stores/index.ts)
```typescript
import { createPinia } from 'pinia'
import { markRaw } from 'vue'
import type { Router } from 'vue-router'

export default createPinia()

// 在 main.ts 中注入 router
declare module 'pinia' {
  export interface PiniaCustomProperties {
    router: Router
  }
}
```

#### 5. 认证状态管理 (stores/auth.ts)
```typescript
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import type { User, LoginRequest, RegisterRequest } from '@/types/auth'
import { authApi } from '@/api/auth'
import Cookies from 'js-cookie'

export const useAuthStore = defineStore('auth', () => {
  const user = ref<User | null>(null)
  const token = ref<string | null>(Cookies.get('token') || null)

  const isAuthenticated = computed(() => !!token.value)

  const login = async (credentials: LoginRequest) => {
    try {
      const response = await authApi.login(credentials)
      token.value = response.data.token
      user.value = response.data.user
      Cookies.set('token', token.value, { expires: 7 })
      return response
    } catch (error) {
      throw error
    }
  }

  const register = async (data: RegisterRequest) => {
    try {
      const response = await authApi.register(data)
      return response
    } catch (error) {
      throw error
    }
  }

  const logout = () => {
    token.value = null
    user.value = null
    Cookies.remove('token')
  }

  const fetchUser = async () => {
    if (!token.value) return
    try {
      const response = await authApi.getProfile()
      user.value = response.data
    } catch (error) {
      logout()
    }
  }

  return {
    user,
    token,
    isAuthenticated,
    login,
    register,
    logout,
    fetchUser
  }
})
```

#### 6. HTTP 请求封装 (utils/request.ts)
```typescript
import axios from 'axios'
import type { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'
import { ElMessage } from 'element-plus'
import { useAuthStore } from '@/stores/auth'
import router from '@/router'

const service: AxiosInstance = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || '/api',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json'
  }
})

service.interceptors.request.use(
  (config) => {
    const authStore = useAuthStore()
    if (authStore.token) {
      config.headers.Authorization = `Bearer ${authStore.token}`
    }
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

service.interceptors.response.use(
  (response: AxiosResponse) => {
    const res = response.data
    
    if (res.code !== 0 && res.code !== 200) {
      ElMessage.error(res.message || 'Error')
      return Promise.reject(new Error(res.message || 'Error'))
    }
    
    return res
  },
  (error) => {
    if (error.response) {
      switch (error.response.status) {
        case 401:
          useAuthStore().logout()
          router.push('/login')
          break
        case 403:
          ElMessage.error('没有权限访问')
          break
        case 500:
          ElMessage.error('服务器错误')
          break
        default:
          ElMessage.error(error.response.data?.message || '请求失败')
      }
    }
    return Promise.reject(error)
  }
)

export default service
```

#### 7. API 封装示例 (api/auth.ts)
```typescript
import request from '@/utils/request'
import type {
  LoginRequest,
  RegisterRequest,
  User,
  ApiResponse
} from '@/types/auth'

export const authApi = {
  login(data: LoginRequest): Promise<ApiResponse<{ token: string; user: User }>> {
    return request.post('/auth/login', data)
  },

  register(data: RegisterRequest): Promise<ApiResponse<void>> {
    return request.post('/auth/register', data)
  },

  getProfile(): Promise<ApiResponse<User>> {
    return request.get('/auth/profile')
  },

  logout(): Promise<ApiResponse<void>> {
    return request.post('/auth/logout')
  }
}
```

#### 8. 类型定义 (types/index.ts)
```typescript
// 认证相关类型
export interface User {
  id: number
  username: string
  email: string
  avatar?: string
  role: 'user' | 'admin'
  created_at: string
}

export interface LoginRequest {
  username: string
  password: string
}

export interface RegisterRequest {
  username: string
  email: string
  password: string
  confirmPassword: string
}

export interface ApiResponse<T = any> {
  code: number
  message: string
  data: T
  timestamp: string
}

// 数据集相关类型
export interface Dataset {
  id: number
  name: string
  description?: string
  file_name: string
  file_size: number
  file_type: string
  columns: DatasetColumn[]
  row_count: number
  is_public: boolean
  user_id: number
  created_at: string
  updated_at: string
}

export interface DatasetColumn {
  name: string
  type: string
  nullable: boolean
  sample_data: any[]
}

export interface DatasetUploadRequest {
  name: string
  description?: string
  is_public: boolean
  file: File
}

// 分析任务相关类型
export interface AnalysisTask {
  id: number
  name: string
  type: 'r' | 'python'
  status: 'pending' | 'running' | 'completed' | 'failed'
  progress: number
  dataset_id: number
  parameters: Record<string, any>
  result?: AnalysisResult
  error_message?: string
  user_id: number
  created_at: string
  updated_at: string
  completed_at?: string
}

export interface AnalysisResult {
  id: number
  task_id: number
  output_text?: string
  output_file?: string
  visualizations: Visualization[]
  statistics: Record<string, any>
  created_at: string
}

export interface Visualization {
  type: string
  title: string
  data: any
  config?: Record<string, any>
}

export interface AnalysisRequest {
  dataset_id: number
  analysis_type: string
  parameters: Record<string, any>
}
```

#### 9. 全局样式 (assets/styles/index.scss)
```scss
// 全局样式重置
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB',
    'Microsoft YaHei', '微软雅黑', Arial, sans-serif;
}

#app {
  height: 100%;
}

// 自定义变量
:root {
  --primary-color: #409eff;
  --success-color: #67c23a;
  --warning-color: #e6a23c;
  --danger-color: #f56c6c;
  --info-color: #909399;
  
  --bg-color: #f5f7fa;
  --text-color: #303133;
  --border-color: #dcdfe6;
}

// 自定义滚动条
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

// 工具类
.flex {
  display: flex;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.flex-column {
  display: flex;
  flex-direction: column;
}

.text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.card-shadow {
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
}

// 动画
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

// 响应式断点
$breakpoints: (
  'xs': 0,
  'sm': 576px,
  'md': 768px,
  'lg': 992px,
  'xl': 1200px,
  'xxl': 1600px
);

@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (min-width: map-get($breakpoints, $breakpoint)) {
      @content;
    }
  } @else {
    @warn "Undefined breakpoint: #{$breakpoint}";
  }
}
```

#### 10. 环境变量配置
```bash
# .env.development
VITE_APP_TITLE=AIXLab - 开发环境
VITE_API_BASE_URL=/api
VITE_R_API_BASE_URL=/r-api
VITE_PYTHON_API_BASE_URL=/py-api
VITE_UPLOAD_URL=/api/datasets/upload
```

```bash
# .env.production
VITE_APP_TITLE=AIXLab
VITE_API_BASE_URL=https://api.aixlab.com
VITE_R_API_BASE_URL=https://r-api.aixlab.com
VITE_PYTHON_API_BASE_URL=https://py-api.aixlab.com
VITE_UPLOAD_URL=https://api.aixlab.com/datasets/upload
```

#### 11. 布局组件示例 (layouts/DefaultLayout.vue)
```vue
<template>
  <div class="default-layout">
    <el-container class="layout-container">
      <!-- 侧边栏 -->
      <el-aside width="240px" class="layout-sidebar">
        <div class="sidebar-header">
          <h2 class="logo">
            <el-icon><Menu /></el-icon>
            AIXLab
          </h2>
        </div>
        
        <el-menu
          :default-active="$route.path"
          router
          class="sidebar-menu"
          background-color="#304156"
          text-color="#bfcbd9"
          active-text-color="#409EFF"
        >
          <el-menu-item index="/">
            <el-icon><Odometer /></el-icon>
            <span>仪表盘</span>
          </el-menu-item>
          
          <el-sub-menu index="data">
            <template #title>
              <el-icon><DataAnalysis /></el-icon>
              <span>数据管理</span>
            </template>
            <el-menu-item index="/datasets">我的数据集</el-menu-item>
            <el-menu-item index="/datasets/upload">上传数据</el-menu-item>
          </el-sub-menu>
          
          <el-sub-menu index="analysis">
            <template #title>
              <el-icon><Cpu /></el-icon>
              <span>数据分析</span>
            </template>
            <el-menu-item index="/analysis">分析中心</el-menu-item>
            <el-menu-item index="/analysis/r">R 分析</el-menu-item>
            <el-menu-item index="/analysis/python">Python 分析</el-menu-item>
            <el-menu-item index="/analysis/tasks">任务列表</el-menu-item>
          </el-sub-menu>
          
          <el-menu-item index="/public-data">
            <el-icon><Share /></el-icon>
            <span>公共数据</span>
          </el-menu-item>
        </el-menu>
      </el-aside>
      
      <!-- 主内容区 -->
      <el-container class="main-container">
        <!-- 顶部导航 -->
        <el-header class="layout-header">
          <div class="header-left">
            <el-breadcrumb separator="/">
              <el-breadcrumb-item v-for="item in breadcrumbs" :key="item.path">
                {{ item.meta.title }}
              </el-breadcrumb-item>
            </el-breadcrumb>
          </div>
          
          <div class="header-right">
            <el-dropdown @command="handleCommand">
              <span class="user-info">
                <el-avatar :size="32" :src="authStore.user?.avatar">
                  {{ authStore.user?.username?.charAt(0) }}
                </el-avatar>
                <span class="username">{{ authStore.user?.username }}</span>
                <el-icon><ArrowDown /></el-icon>
              </span>
              <template #dropdown>
                <el-dropdown-menu>
                  <el-dropdown-item command="profile">
                    <el-icon><User /></el-icon>
                    个人中心
                  </el-dropdown-item>
                  <el-dropdown-item command="settings">
                    <el-icon><Setting /></el-icon>
                    系统设置
                  </el-dropdown-item>
                  <el-dropdown-item divided command="logout">
                    <el-icon><SwitchButton /></el-icon>
                    退出登录
                  </el-dropdown-item>
                </el-dropdown-menu>
              </template>
            </el-dropdown>
          </div>
        </el-header>
        
        <!-- 主要内容 -->
        <el-main class="layout-main">
          <router-view v-slot="{ Component }">
            <transition name="fade" mode="out-in">
              <component :is="Component" />
            </transition>
          </router-view>
        </el-main>
      </el-container>
    </el-container>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRoute, useRouter } from 'vue-router'
import { useAuthStore } from '@/stores/auth'
import {
  Menu,
  Odometer,
  DataAnalysis,
  Cpu,
  Share,
  ArrowDown,
  User,
  Setting,
  SwitchButton
} from '@element-plus/icons-vue'

const route = useRoute()
const router = useRouter()
const authStore = useAuthStore()

const breadcrumbs = computed(() => {
  const matched = route.matched.filter(item => item.meta.title)
  return matched.map(item => ({
    path: item.path,
    meta: item.meta
  }))
})

const handleCommand = (command: string) => {
  switch (command) {
    case 'profile':
      router.push('/settings')
      break
    case 'settings':
      router.push('/settings')
      break
    case 'logout':
      authStore.logout()
      router.push('/login')
      break
  }
}
</script>

<style lang="scss" scoped>
.default-layout {
  height: 100vh;
  
  .layout-container {
    height: 100%;
  }
  
  .layout-sidebar {
    background-color: #304156;
    transition: width 0.3s;
    
    .sidebar-header {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      
      .logo {
        color: #fff;
        font-size: 18px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 0;
      }
    }
    
    .sidebar-menu {
      border-right: none;
      height: calc(100vh - 60px);
    }
  }
  
  .main-container {
    display: flex;
    flex-direction: column;
  }
  
  .layout-header {
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    border-bottom: 1px solid var(--border-color);
    background: #fff;
    
    .header-left {
      .el-breadcrumb {
        font-size: 14px;
      }
    }
    
    .header-right {
      .user-info {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        
        .username {
          font-size: 14px;
          color: var(--text-color);
        }
      }
    }
  }
  
  .layout-main {
    padding: 20px;
    background: var(--bg-color);
    overflow-y: auto;
    
    :deep(.el-card) {
      margin-bottom: 20px;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}
</style>
```

#### 12. 数据管理页面示例 (views/data/DatasetList.vue)
```vue
<template>
  <div class="dataset-list">
    <el-card class="dataset-card">
      <template #header>
        <div class="card-header">
          <h3>我的数据集</h3>
          <el-button type="primary" @click="$router.push('/datasets/upload')">
            <el-icon><Upload /></el-icon>
            上传数据集
          </el-button>
        </div>
      </template>
      
      <div class="search-bar">
        <el-input
          v-model="searchQuery"
          placeholder="搜索数据集"
          clearable
          @clear="handleSearch"
          @keyup.enter="handleSearch"
          style="width: 300px"
        >
          <template #prefix>
            <el-icon><Search /></el-icon>
          </template>
        </el-input>
        
        <div class="filter-actions">
          <el-select v-model="filterType" placeholder="文件类型" clearable>
            <el-option label="CSV" value="csv" />
            <el-option label="Excel" value="excel" />
            <el-option label="JSON" value="json" />
          </el-select>
          
          <el-select v-model="sortField" placeholder="排序方式">
            <el-option label="创建时间" value="created_at" />
            <el-option label="文件大小" value="file_size" />
            <el-option label="名称" value="name" />
          </el-select>
        </div>
      </div>
      
      <el-table
        :data="datasets"
        v-loading="loading"
        @sort-change="handleSortChange"
      >
        <el-table-column prop="name" label="名称" sortable="custom">
          <template #default="{ row }">
            <router-link :to="`/datasets/${row.id}`" class="dataset-name">
              {{ row.name }}
            </router-link>
          </template>
        </el-table-column>
        
        <el-table-column prop="row_count" label="行数" width="100">
          <template #default="{ row }">
            {{ formatNumber(row.row_count) }}
          </template>
        </el-table-column>
        
        <el-table-column prop="columns.length" label="列数" width="100" />
        
        <el-table-column prop="file_size" label="大小" width="120" sortable="custom">
          <template #default="{ row }">
            {{ formatFileSize(row.file_size) }}
          </template>
        </el-table-column>
        
        <el-table-column prop="file_type" label="类型" width="100">
          <template #default="{ row }">
            <el-tag :type="getFileTypeTag(row.file_type)">
              {{ row.file_type.toUpperCase() }}
            </el-tag>
          </template>
        </el-table-column>
        
        <el-table-column prop="is_public" label="可见性" width="100">
          <template #default="{ row }">
            <el-tag :type="row.is_public ? 'success' : 'info'">
              {{ row.is_public ? '公开' : '私有' }}
            </el-tag>
          </template>
        </el-table-column>
        
        <el-table-column prop="created_at" label="创建时间" width="180" sortable="custom">
          <template #default="{ row }">
            {{ formatDate(row.created_at) }}
          </template>
        </el-table-column>
        
        <el-table-column label="操作" width="200" fixed="right">
          <template #default="{ row }">
            <el-button size="small" @click="handlePreview(row)">
              预览
            </el-button>
            <el-dropdown @command="handleActionCommand(row, $event)">
              <el-button size="small">
                更多<el-icon><ArrowDown /></el-icon>
              </el-button>
              <template #dropdown>
                <el-dropdown-menu>
                  <el-dropdown-item command="analyze">分析</el-dropdown-item>
                  <el-dropdown-item command="download">下载</el-dropdown-item>
                  <el-dropdown-item command="share" v-if="!row.is_public">
                    设为公开
                  </el-dropdown-item>
                  <el-dropdown-item command="delete" divided>
                    <span style="color: var(--danger-color)">删除</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </template>
            </el-dropdown>
          </template>
        </el-table-column>
      </el-table>
      
      <div class="pagination">
        <el-pagination
          v-model:current-page="currentPage"
          v-model:page-size="pageSize"
          :total="total"
          :page-sizes="[10, 20, 50, 100]"
          layout="total, sizes, prev, pager, next, jumper"
          @size-change="handleSizeChange"
          @current-change="handleCurrentChange"
        />
      </div>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted, computed } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage, ElMessageBox } from 'element-plus'
import { Search, Upload, ArrowDown } from '@element-plus/icons-vue'
import { useDatasetStore } from '@/stores/dataset'
import type { Dataset } from '@/types'
import { formatDate, formatFileSize, formatNumber } from '@/utils/format'

const router = useRouter()
const datasetStore = useDatasetStore()

const searchQuery = ref('')
const filterType = ref('')
const sortField = ref('created_at')
const sortOrder = ref('desc')
const currentPage = ref(1)
const pageSize = ref(10)

const loading = ref(false)

const datasets = computed(() => datasetStore.datasets)
const total = computed(() => datasetStore.total)

const fetchDatasets = async () => {
  loading.value = true
  try {
    await datasetStore.fetchDatasets({
      page: currentPage.value,
      page_size: pageSize.value,
      search: searchQuery.value,
      file_type: filterType.value,
      sort_field: sortField.value,
      sort_order: sortOrder.value
    })
  } catch (error) {
    ElMessage.error('获取数据集失败')
  } finally {
    loading.value = false
  }
}

const handleSearch = () => {
  currentPage.value = 1
  fetchDatasets()
}

const handleSortChange = ({ prop, order }: any) => {
  sortField.value = prop
  sortOrder.value = order === 'ascending' ? 'asc' : 'desc'
  fetchDatasets()
}

const handleSizeChange = (size: number) => {
  pageSize.value = size
  currentPage.value = 1
  fetchDatasets()
}

const handleCurrentChange = (page: number) => {
  currentPage.value = page
  fetchDatasets()
}

const getFileTypeTag = (type: string) => {
  const typeMap: Record<string, string> = {
    csv: 'success',
    excel: 'warning',
    json: 'info'
  }
  return typeMap[type] || 'default'
}

const handlePreview = (dataset: Dataset) => {
  router.push(`/datasets/${dataset.id}`)
}

const handleActionCommand = async (dataset: Dataset, command: string) => {
  switch (command) {
    case 'analyze':
      router.push({
        path: '/analysis',
        query: { dataset_id: dataset.id }
      })
      break
      
    case 'download':
      try {
        await datasetStore.downloadDataset(dataset.id)
        ElMessage.success('下载任务已开始')
      } catch (error) {
        ElMessage.error('下载失败')
      }
      break
      
    case 'share':
      try {
        await datasetStore.updateDatasetVisibility(dataset.id, true)
        ElMessage.success('数据集已设为公开')
        fetchDatasets()
      } catch (error) {
        ElMessage.error('操作失败')
      }
      break
      
    case 'delete':
      try {
        await ElMessageBox.confirm(
          `确认删除数据集 "${dataset.name}"？`,
          '确认删除',
          {
            confirmButtonText: '确定',
            cancelButtonText: '取消',
            type: 'warning'
          }
        )
        await datasetStore.deleteDataset(dataset.id)
        ElMessage.success('删除成功')
        fetchDatasets()
      } catch (error) {
        // 用户取消删除
      }
      break
  }
}

onMounted(() => {
  fetchDatasets()
})
</script>

<style lang="scss" scoped>
.dataset-list {
  .dataset-card {
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .search-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      
      .filter-actions {
        display: flex;
        gap: 10px;
        
        .el-select {
          width: 120px;
        }
      }
    }
    
    .dataset-name {
      color: var(--primary-color);
      text-decoration: none;
      
      &:hover {
        text-decoration: underline;
      }
    }
    
    .pagination {
      margin-top: 20px;
      display: flex;
      justify-content: flex-end;
    }
  }
}
</style>
```

这个前端项目提供了完整的 Vue 3 + TypeScript + Element Plus 实现，包括：

1. **项目架构**：模块化的项目结构，清晰的职责划分
2. **路由系统**：基于角色的路由守卫，动态面包屑
3. **状态管理**：使用 Pinia 进行状态管理
4. **API 封装**：统一的请求拦截和错误处理
5. **UI 组件**：使用 Element Plus 构建响应式界面
6. **类型安全**：完整的 TypeScript 类型定义
7. **代码规范**：统一的代码风格和最佳实践

根据这个基础框架，可以继续开发其他功能模块，如数据分析、任务管理、结果可视化等。